[
    {
        "description": "hypothetical data snapshot api endpoint validator",
        "schema": {
            "title": "snapshot validator",
            "type": "object",
            "properties": {
                "snapshot": {
                    "type": "array",
                    "items": {
                        "title": "Process Snapshot",
                        "type": "object",
                        "properties": {
                            "group": {
                                "description": "Process group",
                                "type": "string",
                                "minLength": 1
                            },
                            "name": {
                                "description": "Process name",
                                "type": "string",
                                "minLength": 1
                            },
                            "statename": {
                                "description": "Process statename",
                                "type": "string",
                                "enum": ["STOPPED", "STARTING", "RUNNING",
                                    "BACKOFF", "STOPPING", "EXITED", "FATAL", "UNKNOWN"]
                            },
                            "pid": {
                                "description": "Application Process Id",
                                "type": ["integer", "null"],
                                "minimum": 0
                            },
                            "start": {
                                "description": "Application Start Time",
                                "type": "integer",
                                "minimum": 0
                            },
                            "state": {
                                "description": "Application State Number",
                                "type": "integer",
                                "enum": [0, 10, 20, 30, 40, 100, 200, 1000]
                            },
                            "stats": {
                                "title": "Performance metrics array",
                                "type": "array",
                                "items": {
                                    "title": "Metrics snapshot is array of form [timestamp:float, cpu:float, memory:integer]",
                                    "type": "array",
                                    "minItems": 3,
                                    "maxItems": 3,
                                    "items": [
                                        {
                                            "type": "number",
                                            "minimum": 0.0
                                        },
                                        {
                                            "type": "number",
                                            "minimum": 0.0
                                        },
                                        {
                                            "type": "integer",
                                            "minimum": 0
                                        }
                                    ]
                                }
                            }
                        },
                        "required": ["group", "name", "statename",
                            "pid", "start", "state", "stats"]
                    }
                }
            },
            "required": ["snapshot"]
        },
        "tests": [
            {
                "description": "valid data",
                "data": {
                    "snapshot": [{
                        "group": "process_0",
                        "name": "process_0",
                        "statename": "RUNNING",
                        "pid": 2109,
                        "start": 1469855706,
                        "state": 20,
                        "stats": [
                            [1469943822.942894, 0.0, 184548],
                            [1469943824.216402, 0.0, 184548],
                            [1469943825.404866, 0.0, 184548],
                            [1469943826.593177, 0.0, 184548],
                            [1469943827.843183, 0.0, 184548],
                            [1469943829.081236, 0.0, 184548],
                            [1469943830.331985, 0.0, 184548],
                            [1469943831.574146, 0.0, 184548],
                            [1469943832.820706, 0.0, 184548],
                            [1469943834.013674, 0.0, 184548],
                            [1469943835.256443, 0.0, 184548],
                            [1469943836.46424, 0.0, 184548],
                            [1469943837.6773, 0.0, 184548],
                            [1469943838.9319, 0.0, 184548],
                            [1469943840.151137, 0.0, 184548],
                            [1469943841.39857, 0.0, 184548],
                            [1469943842.614573, 0.0, 184548],
                            [1469943843.800517, 0.0, 184548],
                            [1469943844.976637, 0.0, 184548],
                            [1469943846.212884, 0.0, 184548],
                            [1469943847.459152, 0.0, 184548],
                            [1469943848.70624, 0.0, 184548],
                            [1469943849.934215, 0.0, 184548],
                            [1469943851.171383, 0.0, 184548],
                            [1469943852.419776, 0.0, 184548],
                            [1469943853.661483, 0.0, 184548],
                            [1469943854.914313, 0.0, 184548],
                            [1469943856.159943, 0.0, 184548],
                            [1469943857.401572, 0.0, 184548],
                            [1469943858.641532, 0.0, 184548],
                            [1469943859.841252, 0.0, 184548],
                            [1469943861.024273, 0.0, 184548],
                            [1469943862.233835, 0.0, 184548],
                            [1469943863.456216, 0.0, 184548],
                            [1469943864.662199, 0.0, 184548],
                            [1469943865.866979, 0.0, 184548],
                            [1469943867.116294, 0.0, 184548],
                            [1469943868.344341, 0.0, 184548],
                            [1469943869.545646, 0.0, 184548],
                            [1469943870.798821, 0.0, 184548],
                            [1469943872.046401, 0.0, 184548],
                            [1469943873.235241, 0.0, 184548],
                            [1469943874.412421, 0.0, 184548],
                            [1469943875.596356, 0.0, 184548],
                            [1469943876.842503, 0.0, 184548],
                            [1469943878.142207, 0.0, 184548],
                            [1469943879.369273, 0.0, 184548],
                            [1469943880.554609, 0.0, 184548],
                            [1469943881.745236, 0.0, 184548],
                            [1469943882.928638, 0.0, 184548]
                        ]
                    }, {
                        "group": "process_1",
                        "name": "process_1",
                        "statename": "RUNNING",
                        "pid": 2110,
                        "start": 1469855706,
                        "state": 20,
                        "stats": [
                            [1469943823.084197, 0.0, 156816],
                            [1469943824.277559, 0.0, 156816],
                            [1469943825.465169, 0.0, 156816],
                            [1469943826.660566, 0.0, 156816],
                            [1469943827.905154, 0.0, 156816],
                            [1469943829.148017, 0.0, 156816],
                            [1469943830.39785, 0.0, 156816],
                            [1469943831.646337, 0.0, 156816],
                            [1469943832.882425, 0.0, 156816],
                            [1469943834.081481, 0.0, 156816],
                            [1469943835.318984, 0.0, 156816],
                            [1469943836.533686, 0.0, 156816],
                            [1469943837.750707, 0.0, 156816],
                            [1469943838.997895, 0.0, 156816],
                            [1469943840.217829, 0.0, 156816],
                            [1469943841.463657, 0.0, 156816],
                            [1469943842.675363, 0.0, 156816],
                            [1469943843.853659, 0.0, 156816],
                            [1469943845.04072, 0.0, 156816],
                            [1469943846.279198, 0.0, 156816],
                            [1469943847.531361, 0.0, 156816],
                            [1469943848.770414, 0.0, 156816],
                            [1469943850.001111, 0.0, 156816],
                            [1469943851.237705, 0.0, 156816],
                            [1469943852.488364, 0.0, 156816],
                            [1469943853.732212, 0.0, 156816],
                            [1469943854.985649, 0.0, 156816],
                            [1469943856.227748, 0.0, 156816],
                            [1469943857.459319, 0.0, 156816],
                            [1469943858.708571, 0.0, 156816],
                            [1469943859.900935, 0.0, 156816],
                            [1469943861.085647, 0.0, 156816],
                            [1469943862.294059, 0.0, 156816],
                            [1469943863.521849, 0.0, 156816],
                            [1469943864.714206, 0.0, 156816],
                            [1469943865.939339, 0.0, 156816],
                            [1469943867.182288, 0.0, 156816],
                            [1469943868.404832, 0.0, 156816],
                            [1469943869.617656, 0.0, 156816],
                            [1469943870.869193, 0.0, 156816],
                            [1469943872.112931, 0.0, 156816],
                            [1469943873.286503, 0.0, 156816],
                            [1469943874.471748, 0.0, 156816],
                            [1469943875.663345, 0.0, 156816],
                            [1469943876.926005, 0.0, 156816],
                            [1469943878.211748, 0.0, 156816],
                            [1469943879.417799, 0.0, 156816],
                            [1469943880.607939, 0.0, 156816],
                            [1469943881.799386, 0.0, 156816],
                            [1469943882.991799, 0.0, 156816]
                        ]
                    }, {
                        "group": "process_2",
                        "name": "process_2",
                        "statename": "STOPPED",
                        "pid": 0,
                        "start": 1469855706,
                        "state": 0,
                        "stats": [
                            [1469943823.151067, 0.0, 0],
                            [1469943824.326806, 0.0, 0],
                            [1469943825.512799, 0.0, 0],
                            [1469943826.727748, 0.0, 0],
                            [1469943827.969572, 0.0, 0],
                            [1469943829.21158, 0.0, 0],
                            [1469943830.461888, 0.0, 0],
                            [1469943831.71072, 0.0, 0],
                            [1469943832.930867, 0.0, 0],
                            [1469943834.149815, 0.0, 0],
                            [1469943835.374368, 0.0, 0],
                            [1469943836.592824, 0.0, 0],
                            [1469943837.817302, 0.0, 0],
                            [1469943839.06364, 0.0, 0],
                            [1469943840.283383, 0.0, 0],
                            [1469943841.526476, 0.0, 0],
                            [1469943842.722346, 0.0, 0],
                            [1469943843.898795, 0.0, 0],
                            [1469943845.103634, 0.0, 0],
                            [1469943846.344462, 0.0, 0],
                            [1469943847.594971, 0.0, 0],
                            [1469943848.832266, 0.0, 0],
                            [1469943850.063708, 0.0, 0],
                            [1469943851.304135, 0.0, 0],
                            [1469943852.551246, 0.0, 0],
                            [1469943853.797364, 0.0, 0],
                            [1469943855.048719, 0.0, 0],
                            [1469943856.291936, 0.0, 0],
                            [1469943857.525333, 0.0, 0],
                            [1469943858.762898, 0.0, 0],
                            [1469943859.946257, 0.0, 0],
                            [1469943861.150635, 0.0, 0],
                            [1469943862.350742, 0.0, 0],
                            [1469943863.576668, 0.0, 0],
                            [1469943864.760774, 0.0, 0],
                            [1469943866.004339, 0.0, 0],
                            [1469943867.244237, 0.0, 0],
                            [1469943868.45036, 0.0, 0],
                            [1469943869.684138, 0.0, 0],
                            [1469943870.935708, 0.0, 0],
                            [1469943872.157918, 0.0, 0],
                            [1469943873.333226, 0.0, 0],
                            [1469943874.517016, 0.0, 0],
                            [1469943875.730326, 0.0, 0],
                            [1469943877.005634, 0.0, 0],
                            [1469943878.272001, 0.0, 0],
                            [1469943879.464353, 0.0, 0],
                            [1469943880.65703, 0.0, 0],
                            [1469943881.84632, 0.0, 0],
                            [1469943883.038365, 0.0, 0]
                        ]
                    }, {
                        "group": "process_3",
                        "name": "process_3",
                        "statename": "RUNNING",
                        "pid": 4812,
                        "start": 1469943822,
                        "state": 20,
                        "stats": [
                            [1469943823.183498, 1.547402429700347e-05, 0],
                            [1469943824.358877, 1.547352866084346e-05, 44016],
                            [1469943825.545989, 0.0, 44016],
                            [1469943826.77682, 0.0, 44016],
                            [1469943828.01546, 0.0, 44016],
                            [1469943829.257485, 0.0, 44016],
                            [1469943830.506408, 0.0, 44016],
                            [1469943831.758712, 0.0, 44016],
                            [1469943832.96556, 0.0, 44016],
                            [1469943834.195683, 0.0, 44016],
                            [1469943835.411242, 0.0, 44016],
                            [1469943836.624946, 0.0, 44016],
                            [1469943837.865528, 0.0, 44016],
                            [1469943839.105883, 0.0, 44016],
                            [1469943840.330613, 0.0, 44016],
                            [1469943841.567892, 0.0, 44016],
                            [1469943842.754449, 0.0, 44016],
                            [1469943843.930998, 0.0, 44016],
                            [1469943845.150808, 0.0, 44016],
                            [1469943846.391548, 0.0, 44016],
                            [1469943847.6411, 0.0, 44016],
                            [1469943848.877773, 0.0, 44016],
                            [1469943850.10907, 0.0, 44016],
                            [1469943851.35241, 0.0, 44016],
                            [1469943852.596625, 0.0, 44016],
                            [1469943853.845765, 0.0, 44016],
                            [1469943855.094858, 0.0, 44016],
                            [1469943856.336962, 0.0, 44016],
                            [1469943857.575457, 0.0, 44016],
                            [1469943858.795155, 0.0, 44016],
                            [1469943859.97839, 0.0, 44016],
                            [1469943861.187745, 0.0, 44016],
                            [1469943862.393334, 0.0, 44016],
                            [1469943863.614589, 0.0, 44016],
                            [1469943864.798767, 0.0, 44016],
                            [1469943866.05243, 0.0, 44016],
                            [1469943867.289362, 0.0, 44016],
                            [1469943868.484581, 0.0, 44016],
                            [1469943869.732616, 0.0, 44016],
                            [1469943870.978499, 0.0, 44016],
                            [1469943872.189887, 0.0, 44016],
                            [1469943873.366252, 0.0, 44016],
                            [1469943874.549457, 0.0, 44016],
                            [1469943875.779451, 0.0, 44016],
                            [1469943877.063064, 0.0, 44016],
                            [1469943878.315461, 0.0, 44016],
                            [1469943879.498539, 0.0, 44016],
                            [1469943880.693932, 0.0, 44016],
                            [1469943881.880925, 0.0, 44016]
                        ]
                    }]
                },
                "valid": true
            },
            {
                "description": "invalid stats element",
                "data": {
                    "snapshot": [{
                        "group": "group_9",
                        "name": "process_15",
                        "statename": "BACKOFF",
                        "pid": null,
                        "start": 1469855706,
                        "state": 20,
                        "stats": [
                            [1469943822.942894, 0.0, 184548],
                            [1469943824.216402, 0.0, 184548],
                            [1469943825.404866, 0.0, 184548],
                            [1469943826.593177, 0.0, 184548]
                        ]
                    }]
                },
                "valid": true
            },
            {
                "description": "invalid statename",
                "data": {
                    "snapshot": [{
                        "group": "group_10",
                        "name": "process_0",
                        "statename": "aaRUNNING",
                        "pid": 2109,
                        "start": 1469855706,
                        "state": 20,
                        "stats": [
                            [1469943822.942894, 0.0, 184548],
                            [1469943824.216402, 0.0, 184548],
                            [1469943825.404866, 0.0, 184548],
                            [1469943826.593177, 0.0, 184548]
                        ]
                    }]
                },
                "valid": false
            },
            {
                "description": "invalid stats element",
                "data": {
                    "snapshot": [{
                        "group": "group_11",
                        "name": "process_23",
                        "statename": "STOPPING",
                        "pid": -2109,
                        "start": 1469855706,
                        "state": 20,
                        "stats": [
                            [1469943822.942894, 0.0, 184548],
                            [1469943824.216402, 0.0, 184548],
                            [1469943825.404866, 0.0, 184548],
                            [1469943826.593177, 0.0]
                        ]
                    }]
                },
                "valid": false
            },
            {
                "description": "invalid start value",
                "data": {
                    "snapshot": [{
                        "group": "group_11",
                        "name": "process_23",
                        "statename": "FATAL",
                        "pid": 999,
                        "start": -1469855706,
                        "state": 20,
                        "stats": [
                            [1469943822.942894, 0.0, 184548],
                            [1469943824.216402, 0.0, 184548],
                            [1469943825.404866, 0.0, 184548],
                            [1469943826.593177, 0.0, 184548]
                        ]
                    }]
                },
                "valid": false
            },
            {
                "description": "invalid state value",
                "data": {
                    "snapshot": [{
                        "group": "group_11",
                        "name": "process_23",
                        "statename": "FATAL",
                        "pid": 999,
                        "start": 1469855706,
                        "state": 22,
                        "stats": [
                            [1469943822.942894, 0.0, 184548],
                            [1469943824.216402, 0.0, 184548],
                            [1469943825.404866, 0.0, 184548],
                            [1469943826.593177, 0.0, 184548]
                        ]
                    }]
                },
                "valid": false
            },
            {
                "description": "invalid stats element",
                "data": {
                    "snapshot": [{
                        "group": "group_11",
                        "name": "process_23",
                        "statename": "STOPPING",
                        "pid": 999,
                        "start": 1469855706,
                        "state": 20,
                        "stats": [
                            [1469943822.942894, 0.0, 184548],
                            [1469943824.216402, 0.0, 184548],
                            [1469943825.404866, 0.0, 184548],
                            [1469943826.593177, 0.0]
                        ]
                    }]
                },
                "valid": false
            },
            {
                "description": "missing stats element",
                "data": {
                    "snapshot": [{
                        "group": "group_11",
                        "name": "process_23",
                        "statename": "STOPPING",
                        "pid": 999,
                        "start": 1469855706,
                        "state": 20
                    }]
                },
                "valid": false
            }
        ]
    }
]